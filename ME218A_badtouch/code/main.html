<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  
  <link rel="stylesheet" href="../style.css" />
  <title>ME 218A | Bad Touch: Trevor Boswell, Jonas Ketterle, Ruddick Lawrence</title>
  <script type="text/javascript" src="../javascript/prototype.js"></script>
  <script type="text/javascript" src="../javascript/scriptaculous.js"></script>
  <script type="text/javascript" src="../javascript/menu.js"></script>
  <script type="text/javascript" src="../javascript/utils.js"></script>

</head>
<body>

<div id="shadow">
<div id="container">
<div id="banner">
  <h1 class="centered" style="color: #B30000; margin: 0; padding: 0;">Team Bad Touch</h1>
  <h2 class="centered">Trevor Boswell, Jonas Ketterle, Ruddick Lawrence</h2>
  <h2 class="centered">ME 218A, Fall 2008</h2>
</div>

<ul id="menu">
  <li>
    <a class="menuheader" href="../index.html">Overview</a>
  </li>

  <li>
    <a class="menuheader" href="#">Code</a>
    <div class="menulist">
      <a href="../code/index.html">Code Overview</a>
      <a href="../code/our_c32.html">our_c32 Module</a>
      <a href="../code/ir_sensors.html">ir_sensors Module</a>
      <a href="../code/atari.html">atari Module</a>
      <a href="../code/cheat.html">cheat Module</a>
      <a href="../code/motion.html">motion Module</a>
      <a href="../code/main.html">main Module</a>
    </div>
  </li>
  <li>
    <a class="menuheader" href="#">Circuits</a>
    <div class="menulist">
      <a href="../circuits/index.html">Circuits Overview</a>
      <a href="../circuits/interface.html">Atari Interface</a>
      <a href="../circuits/sensing.html">Hand Sensing</a>
      <a href="../circuits/feedback.html">User Feedback</a>
    </div>
  </li>
  <li>
    <a class="menuheader" href="../mechanical/index.html">Mechanical</a>
  </li>

  <li>
    <a class="menuheader" href="../ultrasound/index.html">Ultrasonics</a>
  </li>
</ul>
<div class="clearer"></div>

<div id="content">
<h1 class='centered'>main Module</h1>

<h3>Files:</h3>
<ul>
<li><a href="main.c">main.c</a></li>
</ul>

<h3>Pseudo-Code</h3>

<pre>
<strong>main(Takes and returns nothing)</strong>
  initialize the timers
  initialize the atari module
  initialize the IR sensors module
  initialize the cheat module

  set player_ready to FALSE

  repeat forever:
    while player_ready is FALSE:
      store CheckMotionEvents() in variable event
      call HandleMotionEvents(NO_EVENTS) to turn off all controls
      if event is not DOWN, NO_EVENT, or POWER_OFF:
        set player_ready to TRUE
    endwhile

    store CheckMotionEvents() in variable event
    if the event is POWER_OFF:
      set player_ready to FALSE
      turn off the fans
    else:
      call HandleMotionEvents(event)
      call HandleCheatEvents(event)
    endif
  endrepeat
</pre>
</div>

</div>
</div>

</body>
</html>

